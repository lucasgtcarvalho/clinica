# ğŸ—ï¸ Arquitetura do Sistema - Estetica Pro

## ğŸ“Š Diagrama da Infraestrutura

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              VPS INTEGRATOR                                  â”‚
â”‚                         Ubuntu 22.04 LTS                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                         DOCKER NETWORK                              â”‚   â”‚
â”‚  â”‚                    estetica-network (bridge)                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                    â”‚                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚   NGINX         â”‚  â”‚    BACKEND          â”‚  â”‚    FRONTEND     â”‚        â”‚
â”‚  â”‚   (Reverse      â”‚  â”‚   Node.js +         â”‚  â”‚   React +       â”‚        â”‚
â”‚  â”‚    Proxy)       â”‚  â”‚   Express           â”‚  â”‚   TypeScript    â”‚        â”‚
â”‚  â”‚                 â”‚  â”‚                     â”‚  â”‚                 â”‚        â”‚
â”‚  â”‚  Portas:        â”‚  â”‚  Porta: 3000        â”‚  â”‚  Porta: 80      â”‚        â”‚
â”‚  â”‚  - 80 (HTTP)    â”‚  â”‚                     â”‚  â”‚                 â”‚        â”‚
â”‚  â”‚  - 443 (HTTPS)  â”‚  â”‚  Responsabilidades: â”‚  â”‚  Build estÃ¡tico â”‚        â”‚
â”‚  â”‚                 â”‚  â”‚  - API REST         â”‚  â”‚  servido pelo   â”‚        â”‚
â”‚  â”‚  Responsabilidades:  - AutenticaÃ§Ã£o JWT â”‚  â”‚  nginx interno  â”‚        â”‚
â”‚  â”‚  - SSL/TLS      â”‚  â”‚  - Regras de negÃ³cioâ”‚  â”‚                 â”‚        â”‚
â”‚  â”‚  - Rate Limit   â”‚  â”‚  - IntegraÃ§Ãµes      â”‚  â”‚                 â”‚        â”‚
â”‚  â”‚  - Load Balance â”‚  â”‚  - WebSockets       â”‚  â”‚                 â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚           â”‚                      â”‚                                         â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                         â”‚
â”‚                      â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                         DATABASE                                    â”‚   â”‚
â”‚  â”‚                    PostgreSQL 15                                    â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  Porta: 5432 (interna apenas)                                       â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  Volumes:                                                           â”‚   â”‚
â”‚  â”‚  - postgres_data:/var/lib/postgresql/data                          â”‚   â”‚
â”‚  â”‚  - ./backups:/backups                                               â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  Responsabilidades:                                                 â”‚   â”‚
â”‚  â”‚  - Dados da aplicaÃ§Ã£o                                               â”‚   â”‚
â”‚  â”‚  - Backup automÃ¡tico                                                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      ARMAZENAMENTO                                  â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  Volumes Docker:                                                    â”‚   â”‚
â”‚  â”‚  - postgres_data    â†’ Dados do PostgreSQL                          â”‚   â”‚
â”‚  â”‚  - uploads_data     â†’ Fotos antes/depois, documentos               â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  Host:                                                              â”‚   â”‚
â”‚  â”‚  - /home/estetica/backups  â†’ Backups automÃ¡ticos                   â”‚   â”‚
â”‚  â”‚  - /home/estetica/logs     â†’ Logs da aplicaÃ§Ã£o                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â”‚ HTTPS (443)
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              USUÃRIOS                                       â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   Desktop    â”‚  â”‚   Tablet     â”‚  â”‚   Mobile     â”‚  â”‚   Admin      â”‚   â”‚
â”‚  â”‚   (Web)      â”‚  â”‚   (PWA)      â”‚  â”‚   (PWA)      â”‚  â”‚   (Web)      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Fluxo de Dados

### 1. RequisiÃ§Ã£o HTTP/HTTPS
```
UsuÃ¡rio â†’ DNS â†’ VPS Integrator â†’ Nginx â†’ Frontend (React)
                                    â†“
                              API Request
                                    â†“
                              Backend (Node.js)
                                    â†“
                              PostgreSQL
```

### 2. AutenticaÃ§Ã£o
```
Login Request â†’ Backend â†’ ValidaÃ§Ã£o â†’ JWT Token â†’ Cookie/Header
                â†“
         PostgreSQL (Users)
```

### 3. Agendamento
```
Criar Agendamento â†’ Backend â†’ ValidaÃ§Ã£o â†’ Database
                          â†“
                    NotificaÃ§Ãµes (WhatsApp/Email)
```

---

## ğŸ›¡ï¸ Camadas de SeguranÃ§a

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. PERIMETER (Firewall UFW)                                â”‚
â”‚     - Portas 22, 80, 443 apenas                            â”‚
â”‚     - Rate limiting por IP                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. APLICAÃ‡ÃƒO (Nginx)                                       â”‚
â”‚     - SSL/TLS (Let's Encrypt)                              â”‚
â”‚     - Headers de seguranÃ§a                                  â”‚
â”‚     - Rate limiting por endpoint                            â”‚
â”‚     - WAF bÃ¡sico                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. API (Node.js/Express)                                   â”‚
â”‚     - AutenticaÃ§Ã£o JWT                                      â”‚
â”‚     - ValidaÃ§Ã£o de inputs                                   â”‚
â”‚     - CORS configurado                                      â”‚
â”‚     - Helmet.js                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. DADOS (PostgreSQL)                                      â”‚
â”‚     - Isolamento em rede Docker                            â”‚
â”‚     - Credenciais seguras                                   â”‚
â”‚     - Backup criptografado                                  â”‚
â”‚     - Acesso apenas via backend                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ Componentes Docker

### Container: nginx
```yaml
Imagem: nginx:alpine
Portas: 80, 443
Volumes:
  - ./nginx/conf.d:/etc/nginx/conf.d
  - ./certbot/conf:/etc/letsencrypt
  - ./certbot/www:/var/www/certbot
DependÃªncias: backend, frontend
```

### Container: backend
```yaml
Imagem: node:18-alpine (build)
Porta: 3000
Volumes:
  - ./backend/uploads:/app/uploads
  - ./backend/logs:/app/logs
VariÃ¡veis: .env
DependÃªncias: db
```

### Container: frontend
```yaml
Imagem: nginx:alpine
Porta: 80
Volumes:
  - ./frontend/dist:/usr/share/nginx/html
  - ./nginx/frontend.conf:/etc/nginx/conf.d/default.conf
DependÃªncias: Nenhuma
```

### Container: db
```yaml
Imagem: postgres:15-alpine
Porta: 5432 (interna)
Volumes:
  - postgres_data:/var/lib/postgresql/data
  - ./backups:/backups
VariÃ¡veis:
  POSTGRES_USER: estetica_user
  POSTGRES_PASSWORD: ${DB_PASSWORD}
  POSTGRES_DB: estetica_db
```

---

## ğŸ”„ Backup e RecuperaÃ§Ã£o

### EstratÃ©gia de Backup
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BACKUP AUTOMÃTICO (DiÃ¡rio Ã s 2h)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  1. Database Dump                                           â”‚
â”‚     pg_dump â†’ gzip â†’ /home/estetica/backups/               â”‚
â”‚                                                             â”‚
â”‚  2. Arquivos (Uploads)                                      â”‚
â”‚     tar.gz â†’ /home/estetica/backups/                       â”‚
â”‚                                                             â”‚
â”‚  3. ConfiguraÃ§Ãµes                                           â”‚
â”‚     .env, nginx.conf â†’ backup separado                     â”‚
â”‚                                                             â”‚
â”‚  4. RetenÃ§Ã£o: 30 dias                                      â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### RecuperaÃ§Ã£o de Desastres
```bash
# 1. Parar aplicaÃ§Ã£o
docker compose -f docker-compose.prod.yml down

# 2. Restaurar banco
gunzip < backup_20250115.sql.gz | docker exec -i estetica-db psql -U estetica_user -d estetica_db

# 3. Restaurar arquivos
tar -xzf uploads_20250115.tar.gz -C /home/estetica/apps/estetica-pro/backend

# 4. Reiniciar
docker compose -f docker-compose.prod.yml up -d
```

---

## ğŸ“Š Escalabilidade

### Vertical (Upgrade de VPS)
```
Plano Atual: 2 vCPU, 4GB RAM
     â†“
Upgrade: 4 vCPU, 8GB RAM
     â†“
Upgrade: 8 vCPU, 16GB RAM
```

### Horizontal (Futuro)
```
Load Balancer (Nginx)
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
â”‚             â”‚
Backend 1   Backend 2
â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â†“
   PostgreSQL
   (Primary-Replica)
```

---

## ğŸ” Monitoramento

### MÃ©tricas Coletadas
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SISTEMA                                                    â”‚
â”‚  - CPU Usage                                                â”‚
â”‚  - Memory Usage                                             â”‚
â”‚  - Disk I/O                                                 â”‚
â”‚  - Network Traffic                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  APLICAÃ‡ÃƒO                                                  â”‚
â”‚  - Request Rate                                             â”‚
â”‚  - Response Time                                            â”‚
â”‚  - Error Rate                                               â”‚
â”‚  - Active Users                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  BANCO DE DADOS                                             â”‚
â”‚  - Query Performance                                        â”‚
â”‚  - Connection Pool                                          â”‚
â”‚  - Replication Lag                                          â”‚
â”‚  - Disk Usage                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ferramentas
- **Netdata**: Monitoramento em tempo real
- **Portainer**: Gerenciamento Docker
- **Logs**: Centralizados em `/home/estetica/logs/`

---

## ğŸŒ ConfiguraÃ§Ã£o DNS Recomendada

```
Tipo    Nome                Valor                           TTL
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
A       @                   IP_DA_VPS                       3600
A       www                 IP_DA_VPS                       3600
A       app                 IP_DA_VPS                       3600
CNAME   api                 app.seudominio.com.br           3600
TXT     @                   "v=spf1 include:_spf.google.com ~all" 3600
```

---

## ğŸ“ Checklist de Arquitetura

- [ ] Containers isolados por serviÃ§o
- [ ] Rede Docker dedicada
- [ ] Volumes persistentes configurados
- [ ] SSL/TLS implementado
- [ ] Backup automÃ¡tico configurado
- [ ] Monitoramento ativo
- [ ] Logs centralizados
- [ ] Rate limiting implementado
- [ ] Firewall configurado
- [ ] Fail2Ban ativo
- [ ] AtualizaÃ§Ãµes automÃ¡ticas de seguranÃ§a
- [ ] DocumentaÃ§Ã£o atualizada

---

**Arquitetura projetada para alta disponibilidade, seguranÃ§a e escalabilidade na VPS Integrator.**
